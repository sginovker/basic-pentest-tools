import argparse
import ftplib


# attempt to login with anonymous ftp
def anonLogin(hostName: str) -> None:
    try:
        ftp = ftplib.FTP(hostName)
        ftp.login("anonymous")
        print("\n [+] " + hostName + " FTP Anonymous Login Succeeded.")
        ftp.quit()
        return
    except Exception:
        print("\n [-] " + hostName + " FTP Anonymous Login Failed.")
        return


if __name__ == "__main__":
    parser = argparse.ArgumentParser(
        description="Given a host name, scans host to see if anonymous FTP login is possible."
    )
    # add command line argument for host ip
    parser.add_argument("hostIP", help="the target host IP")

    args = parser.parse_args()

    anonLogin(args.hostIP)
